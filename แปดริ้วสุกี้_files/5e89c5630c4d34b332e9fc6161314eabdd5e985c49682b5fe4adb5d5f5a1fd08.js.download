"use strict";(self.webpackChunkappsheet_app=self.webpackChunkappsheet_app||[]).push([["components_admin_AdminRoot_tsx"],{202419:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.AvailableComponentsForCustomPolicy=t.AddEditPolicy=void 0;var r=l(a(627424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),c=a(558852),i=a(291035),u=a(697211),s=a(695386);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var p=["Security","UserWhiteList","Tables","Columns","Slices","Views","FormatRules","Branding","UXSettings","WorkflowRules","Actions","Tasks","Events","Bots","BehaviorSettings","AppSettings","Description"];t.AvailableComponentsForCustomPolicy=p;var f=(0,s.makeStyles)((function(){return{modalActions:{display:"flex"},cancelButton:{flexGrow:1,marginRight:"8px"},inputGroup:{marginBottom:"16px"}}}));t.AddEditPolicy=function(e){var t,a,l,n,s,d,m,E=f(),y=(0,o.useState)(Object.assign({},e.Policy)),v=(0,r.default)(y,2),g=v[0],h=v[1],b=[i.PolicyTarget.AllApps,i.PolicyTarget.PrototypeApps,i.PolicyTarget.DeployedApps,i.PolicyTarget.ExternalApps],P=function(e,t){return function(a){var l=a.target,n=Object.assign({},e);n[l.name]=l.value,t(n)}}(g,h),C="System"===g.author?null:o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Component:"),o.default.createElement("select",{name:"component",value:g.component,onChange:function(e){return P(e)}},p.map((function(e){return o.default.createElement("option",{value:e,key:e},e)}))));return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"modal-form"},o.default.createElement("input",{type:"hidden",name:"id",value:g.id}),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Name:"),o.default.createElement("input",{className:"policy-name",name:"name",type:"text",value:g.name,onChange:function(e){return P(e)},disabled:!e.canEdit})),C,o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Condition:"),o.default.createElement("i",{className:"FormulaIcon fa icon fa-icon fa-fw fa-flask","aria-hidden":"true"}),o.default.createElement("textarea",{name:"constraint",value:g.constraint,onChange:function(e){return P(e)},disabled:!e.canEdit})),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Severity:"),o.default.createElement("select",{name:"severity",value:g.severity,onChange:function(e){return P(e)},disabled:!e.canEdit},o.default.createElement("option",{value:"Error"},"Error"),o.default.createElement("option",{value:"Warning"},"Warning"))),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Target:"),o.default.createElement("select",{name:"target",value:g.target,onChange:function(e){return P(e)},disabled:!e.canEdit},b.map((function(e){return o.default.createElement("option",{value:e,key:e},i.PolicyTargetName[e])})))),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Stage:"),o.default.createElement("select",{name:"stage",value:g.stage,onChange:function(e){return P(e)},disabled:!e.canEdit},o.default.createElement("option",{value:"App_Edit"},"Check on App Edit"),o.default.createElement("option",{value:"Deployment_Check"},"Check on Deployment"),o.default.createElement("option",{value:"Accessing_App"},"Check when your user is using an app"))),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Description:"),o.default.createElement("textarea",{name:"description",value:g.description,onChange:function(e){return P(e)},disabled:!e.canEdit})),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Success Message:"),o.default.createElement("textarea",{name:"messageOnSuccess",value:g.messageOnSuccess,onChange:function(e){return P(e)},disabled:!e.canEdit})),o.default.createElement("div",{className:E.inputGroup},o.default.createElement("label",null,"Failure Message:"),o.default.createElement("textarea",{name:"messageOnFailure",value:g.messageOnFailure,onChange:function(e){return P(e)},disabled:!e.canEdit}))),(t=e.canEdit,a=e.onSave,l=e.onDelete,n=e.onCancel,s=function(e){return 0===e.id}(g)?null:o.default.createElement(u.Tooltip,{title:t?"":"You do not have permission to delete this policy",placement:"top"},o.default.createElement("div",null,o.default.createElement(c.ProgressButton,{renderMaterial:!0,variant:"outlined",color:"error",wrapperClasses:"delete-policy",disabled:!t,onClick:function(){return l(Object.assign({},g))}},"Delete"))),d=o.default.createElement("div",{className:E.cancelButton},o.default.createElement(u.Button,{variant:"outlined",color:"primary",onClick:n},"Cancel")),m=o.default.createElement(u.Tooltip,{title:t?"":"You do not have permission to save this policy",placement:"top"},o.default.createElement("div",null,o.default.createElement(c.ProgressButton,{renderMaterial:!0,wrapperClasses:"save-policy",disabled:!t,onClick:function(){return a(Object.assign({},g))}},"Save"))),o.default.createElement("div",{className:"modal-actions ".concat(E.modalActions)},s,d,m)))}},88850:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.AddEditPolicy2=void 0;var n=l(a(667294)),r=a(291035),o=a(202419),c=a(819655),i=a(229752),u=a(646514),s=(0,i.makeStyles)((function(){return{inputGroup:{marginBottom:"16px"},documentationLink:{color:u.GOOGLE_BLUE}}}));t.AddEditPolicy2=function(e){var t=s(),a=e.policy,l=e.onPolicyChange,i=function(e){var t=e.target,n=Object.assign({},a);n[t.name]=t.value,l(n,t.name)},u=[r.PolicyTarget.AllApps,r.PolicyTarget.PrototypeApps,r.PolicyTarget.DeployedApps,r.PolicyTarget.ExternalApps],d="System"===a.author?null:n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Component:"),n.default.createElement("select",{name:"component",value:a.component,onChange:function(e){return i(e)}},o.AvailableComponentsForCustomPolicy.map((function(e){return n.default.createElement("option",{value:e,key:e},e)}))));return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"modal-form"},n.default.createElement("input",{type:"hidden",name:"id",value:a.id}),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Name:"),n.default.createElement("input",{className:"policy-name",name:"name",type:"text",value:a.name,onChange:function(e){return i(e)},disabled:!e.canEdit})),d,n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Condition:"),n.default.createElement("i",{className:"FormulaIcon fa icon fa-icon fa-fw fa-flask","aria-hidden":"true"}),n.default.createElement("textarea",{name:"constraint",value:a.constraint,onChange:function(e){return i(e)},disabled:!e.canEdit})),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Severity:"),n.default.createElement("select",{name:"severity",value:a.severity,onChange:function(e){return i(e)},disabled:!e.canEdit},n.default.createElement("option",{value:"Error"},"Error"),n.default.createElement("option",{value:"Warning"},"Warning"))),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Target:"),n.default.createElement("select",{name:"target",value:a.target,onChange:function(e){return i(e)},disabled:!e.canEdit},u.map((function(e){return n.default.createElement("option",{value:e,key:e},r.PolicyTargetName[e])})))),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Stage:"),n.default.createElement(c.PolicyStageSelect,{selectedStage:a.stage,canEdit:e.canEdit,selectedComponent:a.component,handleChange:i})),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Description:"),n.default.createElement("textarea",{name:"description",value:a.description,onChange:function(e){return i(e)},disabled:!e.canEdit})),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Success Message:"),n.default.createElement("textarea",{name:"messageOnSuccess",value:a.messageOnSuccess,onChange:function(e){return i(e)},disabled:!e.canEdit})),n.default.createElement("div",{className:t.inputGroup},n.default.createElement("label",null,"Failure Message:"),n.default.createElement("textarea",{name:"messageOnFailure",value:a.messageOnFailure,onChange:function(e){return i(e)},disabled:!e.canEdit})),n.default.createElement("p",null,n.default.createElement("a",{href:"https://support.google.com/appsheet?p=governance-policies",className:t.documentationLink,target:"_blank",rel:"noreferrer"},"Define governance policies"))))}},248131:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.ChoosePolicyTemplate=void 0;var r=l(a(627424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),c=a(695386),i=a(766333),u=(l(a(178149)),l(a(273463)),l(a(369458)),l(a(507108)),l(a(103736)),l(a(373279))),s=l(a(687217)),d=l(a(722128)),p=l(a(942666)),f=l(a(319337)),m=l(a(768796)),E=l(a(970865)),y=l(a(598045)),v=l(a(938556)),g=l(a(773430)),h=l(a(658177)),b=l(a(143500)),P=l(a(429475)),C=l(a(423301)),O=l(a(42985)),k=(l(a(496486)),a(697211));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var N=(0,c.makeStyles)((function(){return{defaultPolicyCard:{width:"300px",marginBottom:"8px"},cardContent:{textAlign:"left"},cardText:{display:"flex",justifyContent:"center",flexDirection:"column"}}}));new Set(["UserWhiteList","UserDomains","AppSharing","Security"]),new Set(["Tables"]),new Map([["Only users from specific domain",o.default.createElement(u.default,{fontSize:"small",key:1})],["Restrict who can deploy apps",o.default.createElement(s.default,{fontSize:"small",key:2})],["Restrict Prototype Sharing",o.default.createElement(h.default,{fontSize:"small",key:3})],["Restrict Prototype Authentication",o.default.createElement(d.default,{fontSize:"small",key:4})],["Run as-app-creator",o.default.createElement(p.default,{fontSize:"small",key:5})],["Require sign-in policy",o.default.createElement(f.default,{fontSize:"small",key:6})],["Enforce FedRAMP compliance",o.default.createElement(m.default,{fontSize:"small",key:7})],["Prevent row delete",o.default.createElement(E.default,{fontSize:"small",key:8})],["Restrict data source attachable to apps",o.default.createElement(y.default,{fontSize:"small",key:9})],["Restrict providers attachable to apps",o.default.createElement(m.default,{fontSize:"small",key:10})],["Apps must have documentation",o.default.createElement(v.default,{fontSize:"small",key:11})],["Custom policy",o.default.createElement(g.default,{fontSize:"small",key:12})],["Enable offline use",o.default.createElement(b.default,{fontSize:"small",key:13})],["Acceptable image resolution",o.default.createElement(P.default,{fontSize:"small",key:14})],["Must sync-on-start",o.default.createElement(C.default,{fontSize:"small",key:15})],["Disable Chat apps",o.default.createElement(O.default,{fontSize:"small",key:16})]]);t.ChoosePolicyTemplate=function(e){N();var t=e.DefaultPolicies,a=e.onNext,l=(0,o.useState)(null),n=(0,r.default)(l,2),c=n[0],u=n[1],s=function(){var e=t.find((function(e){return e.name===c}));(0,i.assert)(null!=e),a(e)};return o.default.createElement(o.default.Fragment,null,o.default.createElement("label",null,"Policy Template"),o.default.createElement("select",{className:"choose-policy",onChange:function(e){return u(e.target.value)}},o.default.createElement("option",null),t.map((function(e){return o.default.createElement("option",{value:e.name,key:e.name},e.name)}))),o.default.createElement("div",{className:"modal-actions"},o.default.createElement(k.Button,{color:"primary",variant:"contained",className:"template-next",disabled:!c,onClick:s},"Next")))}},448249:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyEditor=void 0;var r=l(a(627424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),c=a(695386),i=a(88850),u=a(339764),s=a(211336),d=l(a(507108)),p=a(635672),f=l(a(250113)),m=l(a(496486)),E=a(646514),y=a(697211),v=l(a(64858)),g=a(434218),h=a(591915);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}var P=(0,c.makeStyles)((function(){return{gridSection:{padding:"16px;",borderTop:"1px solid ".concat(E.GOOGLE_GREY_200),borderBottom:"1px solid ".concat(E.GOOGLE_GREY_200)},gridSectionLeft:{borderRight:"1px solid ".concat(E.GOOGLE_GREY_200)},modalActions:{display:"flex"},cancelButton:{flexGrow:1,marginRight:"8px"}}})),C=new Set(["constraint","severity","target","stage"]);t.PolicyEditor=function(e){var t=e.canEdit,a=e.onSave,l=e.onCancel,n=e.onDelete,c=P(),E=(0,o.useState)(e.policy),b=(0,r.default)(E,2),O=b[0],k=b[1],w=(0,o.useState)(null),N=(0,r.default)(w,2),S=N[0],_=N[1],A=(0,o.useState)(!0),M=(0,r.default)(A,2),j=M[0],D=M[1],T=(0,o.useState)(!1),L=(0,r.default)(T,2),x=L[0],I=L[1],R=(0,o.useState)(""),G=(0,r.default)(R,2),W=G[0],B=G[1],z=(0,o.useState)(!1),F=(0,r.default)(z,2),H=F[0],U=F[1],Y=(0,o.useState)(!1),V=(0,r.default)(Y,2),J=V[0],X=V[1],Z=(0,o.useCallback)((function(e){return t?(D(!0),(0,p.ajaxPost)("/Account/GetAppsForPolicyCheck",{policy:e},{contentType:"application/json"}).then((function(e){_(e),I(!1)})).catch((function(e){I(!0),B(e.responseJSON.errorMessage),_(null)})).finally((function(){D(!1)}))):Promise.resolve()}),[t]),q=(0,o.useMemo)((function(){return m.default.debounce((function(e){Z(e)}),300)}),[Z]);(0,o.useEffect)((function(){Z(O)}),[Z]);return o.default.createElement(d.default,{container:!0},o.default.createElement(d.default,{item:!0,xs:6,className:"".concat(c.gridSection," ").concat(c.gridSectionLeft)},o.default.createElement(i.AddEditPolicy2,{policy:O,canEdit:t,onPolicyChange:function(e,t){k(e),C.has(t)&&(I(!1),_(null),D(!0),q(e))}})),o.default.createElement(d.default,{item:!0,xs:6,className:c.gridSection},t?x?o.default.createElement(v.default,{id:"compile-error-message",severity:"error",icon:!1},W):j?o.default.createElement("div",{className:"loading",style:{textAlign:"center"}},o.default.createElement(f.default,{color:"primary",size:24})):o.default.createElement(u.PreviewPolicy,{policy:O,appsToCheck:S}):o.default.createElement(v.default,{id:"cannot-edit-policies-message",severity:"warning",icon:!1},"You must be an admin to manage team policies.")),o.default.createElement(d.default,{item:!0,xs:12},function(e){var t=null==O||function(e){return 0===e.id}(O)?null:o.default.createElement(y.Tooltip,{title:e?"":"You do not have permission to delete this policy",placement:"top"},o.default.createElement("div",{className:"delete-policy"},o.default.createElement(g.ErrorButton,{variant:"outlined",disabled:!e,onClick:function(){return X(!0)}},"Delete"))),a=o.default.createElement("div",{className:c.cancelButton},o.default.createElement(y.Button,{variant:"outlined",color:"primary",onClick:l},"Cancel")),n=o.default.createElement(y.Tooltip,{title:e?"":"You do not have permission to save this policy",placement:"top"},o.default.createElement("div",null,o.default.createElement(y.Button,{variant:"contained",color:"primary",className:"save-policy",disabled:x||!e,onClick:function(){return U(!0)}},"Save")));return o.default.createElement("div",{className:"modal-actions ".concat(c.modalActions)},t,a,n)}(t)),o.default.createElement(s.PolicySaveConfirmationDialog,{show:H,onSave:function(){return a(Object.assign({},O))},onClose:function(){return U(!1)},policy:O}),o.default.createElement(h.DeletePolicyModal,{show:J,policy:O,onCancel:function(){return X(!1)},onDelete:function(){return n(Object.assign({},O))}}))}},92368:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.didVersionPassCheck=t.didPassCheck=t.PolicyPreviewAppCard=void 0;var n=l(a(667294)),r=a(695386),o=l(a(135851)),c=l(a(12354)),i=l(a(507108)),u=a(993476),s=a(646514),d=(0,r.makeStyles)((function(){return{appLogo:{width:"64px"},appCardGrid:{borderBottom:"1px solid ".concat(s.GOOGLE_GREY_300)},appLogoGrid:{maxWidth:"64px"},appNameOwnerGrid:{margin:"auto 8px auto 8px"},appNameOwnerText:{fontSize:"14px",color:s.GOOGLE_GREY_800},chipsGrid:{margin:"auto",maxWidth:"90px"},chip:{fontSize:"14px"},chipTooltip:{cursor:"pointer",marginTop:"2px",marginBottom:"2px"},policyResultIcon:{height:"20px !important"},chipLabel:{paddingLeft:"0px"}}})),p=function(e){return null==e||e.checkPassed};t.didVersionPassCheck=p;var f=function(e){return p(e.latestVersionResult)&&p(e.stableVersionResult)};t.didPassCheck=f;t.PolicyPreviewAppCard=function(e){var t=d(),a=e.app,l="Error"===e.severityLevel,r=f(e.appPolicyCheckResult),s=function(e,t,a){var l=n.default.createElement(u.PolicyResultIcon,{result:t?"Fail":"Warn",iconClasses:a.policyResultIcon}),r=n.default.createElement(u.PolicyResultIcon,{result:"Pass",iconClasses:a.policyResultIcon}),i=p(e.latestVersionResult),s=p(e.stableVersionResult);return n.default.createElement(n.default.Fragment,null,n.default.createElement(c.default,{title:"The latest version has ".concat(i?"passed":"failed"),placement:"top",className:a.chipTooltip},n.default.createElement(o.default,{label:"Latest",key:"latest",size:"small",variant:"outlined",className:a.chip,classes:{label:a.chipLabel},icon:i?r:l})),null!=e.stableVersionResult&&n.default.createElement(c.default,{title:"The stable version has ".concat(s?"passed":"failed"),placement:"top",className:a.chipTooltip},n.default.createElement(o.default,{label:"Stable",key:"stable",size:"small",variant:"outlined",className:a.chip,classes:{label:a.chipLabel},icon:s?r:l})))}(e.appPolicyCheckResult,l,t);return n.default.createElement(i.default,{container:!0,spacing:0,className:"".concat(t.appCardGrid,"  ").concat(r?"app-policy-check-result-Pass":"app-policy-check-result-Fail")},n.default.createElement(i.default,{item:!0,xs:2,className:t.appLogoGrid},n.default.createElement("img",{src:a.appLogo,className:t.appLogo})),n.default.createElement(i.default,{item:!0,xs:7,className:t.appNameOwnerGrid},n.default.createElement("div",{className:t.appNameOwnerText},n.default.createElement("b",null,a.appName)),n.default.createElement("div",{className:t.appNameOwnerText},a.ownerEmail)),n.default.createElement(i.default,{item:!0,xs:3,className:t.chipsGrid},s))}},993476:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyResultIcon=void 0;var n=l(a(667294)),r=a(695386),o=a(646514),c=l(a(581395)),i=l(a(247298)),u=l(a(521727)),s=(0,r.makeStyles)((function(){return{passColor:{color:o.GOOGLE_GREEN_500},failColor:{color:o.GOOGLE_RED_800},warnColor:{color:o.GOOGLE_YELLOW_800}}}));t.PolicyResultIcon=function(e){var t=s();return"Pass"===e.result?function(e,t){return n.default.createElement(c.default,{className:"".concat(e.passColor,"  ").concat(t)})}(t,e.iconClasses):"Warn"===e.result?function(e,t){return n.default.createElement(u.default,{className:"".concat(e.warnColor," ").concat(t)})}(t,e.iconClasses):function(e,t){return n.default.createElement(i.default,{className:"".concat(e.failColor," ").concat(t)})}(t,e.iconClasses)}},211336:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicySaveConfirmationDialog=function(e){var t=e.show,a=e.policy,l=e.onSave,o=e.onClose,u=i();return n.default.createElement(r.Dialog,{open:t,className:"policy-save-confirmation-dialog"},n.default.createElement(r.DialogTitle,null,n.default.createElement("b",null,"Save Policy?")),n.default.createElement(r.DialogContent,null,n.default.createElement("p",{className:u.paragraph},function(e){if("Warning"===e.severity)return"This will warn app creators when they create or modify an app that violates the policy.";if("App_Use"===e.stage)return"Apps that violate this policy will be shut down.";if("Accessing_App"===e.stage)return"Your users may not be able to access apps that they previously had access to.";if("Deployment_Check"===e.stage)return"App creators will be prevented from deploying apps which violate this policy.";if("App_Edit"===e.stage)return"App creators will be prevented from saving apps which violate this policy.";throw new RangeError("This policy is in an invalid state")}(a)),n.default.createElement("p",{className:u.paragraph},"Are you sure you want to save this policy?")),n.default.createElement(r.DialogActions,null,n.default.createElement(r.Button,{color:"primary",variant:"outlined",onClick:o},"Cancel"),n.default.createElement(c.ProgressButton,{renderMaterial:!0,color:"primary",onClick:l},"Save")))};var n=l(a(667294)),r=a(697211),o=a(695386),c=a(558852),i=(0,o.makeStyles)((function(){return{paragraph:{paddingBottom:"16px;"}}}))},819655:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyStageSelect=void 0;var n=l(a(667294)),r=new Map([["ExternalAppInfo",["Accessing_App"]]]);t.PolicyStageSelect=function(e){var t=e.selectedStage,a=e.selectedComponent,l=e.handleChange,o=e.canEdit,c=r.get(a),i=c||["App_Edit","Deployment_Check","App_Use"];return n.default.createElement("select",{name:"stage",value:t,onChange:l,disabled:!o},i.includes("App_Edit")&&n.default.createElement("option",{value:"App_Edit"},"Check on App Edit"),i.includes("Deployment_Check")&&n.default.createElement("option",{value:"Deployment_Check"},"Check on Deployment"),i.includes("Accessing_App")&&n.default.createElement("option",{value:"Accessing_App"},"Check when your user is using an app"),i.includes("App_Use")&&n.default.createElement("option",{value:"App_Use"},"Enforce Immediately"))}},339764:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPolicy=t.BATCH_SIZE=void 0;var r=l(a(600861)),o=l(a(627424)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),i=a(697211),u=a(695386),s=a(646514),d=a(635672),p=l(a(593186)),f=a(92368),m=l(a(590503)),E=l(a(935025)),y=l(a(964566)),v=a(993476),g=l(a(64858));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var b=(0,u.makeStyles)((function(){return{accordionDetails:{display:"block"},pNoMargin:{marginTop:"0 !important"},contactSupportLink:{textDecoration:"underline",color:s.GOOGLE_BLUE},passColor:{color:s.GOOGLE_GREEN_500},failColor:{color:s.GOOGLE_RED_800},warnColor:{color:s.GOOGLE_YELLOW_800},appsListHeaderDiv:{height:"44px",borderBottom:"1px solid ".concat(s.GOOGLE_GREY_600),cursor:"pointer",marginTop:"8px"},appsListHeaderLineItem:{display:"inline-block !important",height:"36px !important",fontSize:"18px",paddingLeft:"4px",paddingRight:"4px",verticalAlign:"top"},appsListHeaderIcon:{width:"36px !important"},appsListHeaderCarrot:{float:"right",width:"36px !important"},policyCheckProgressAlert:{width:"100% !important"},collapseSection:{marginBottom:"16px"}}})),P=function(e,t,a,l){return 0===a.length?null:c.default.createElement("div",{className:"".concat(e.accordionDetails)},a.map((function(e){var a=t.get(e.appId);return c.default.createElement(f.PolicyPreviewAppCard,{key:a.appId,app:a,appPolicyCheckResult:e,severityLevel:l})})))},C=function(e,t){return e.sort((function(e,a){return t.get(e.appId).appName.localeCompare(t.get(a.appId).appName)}))};t.BATCH_SIZE=10;var O=function(e,t,a,l,n,c,i,u,s){var m=10*a,E=10*a+10,y=e.appsToCheck.map((function(e){return e.appId})).slice(m,E);return 0===y.length?Promise.resolve():(0,d.ajaxPost)("/Account/CheckPolicy",{appPolicy:e.policy,appIds:y},{contentType:"application/json"}).then((function(e){var d=function(e){var t=[],a=[];return e.results.forEach((function(e){(0,f.didPassCheck)(e)?t.push(e):a.push(e)})),[t,a]}(e),p=(0,o.default)(d,2),m=p[0],E=p[1];c(C([].concat((0,r.default)(n),(0,r.default)(m)),t)),u(C([].concat((0,r.default)(i),(0,r.default)(E)),t)),e.exposesImageOrFileData&&s(!0),l(a+1)})).catch((function(e){p.default.ReportError({errorMessage:"CheckPolicy Error",error:e})}))};t.PreviewPolicy=function(e){var t,a,l=b(),n=(0,c.useState)(!0),r=(0,o.default)(n,2),u=r[0],s=r[1],d=(0,c.useState)(!0),p=(0,o.default)(d,2),f=p[0],h=p[1],C=(0,c.useState)(!1),k=(0,o.default)(C,2),w=k[0],N=k[1],S=(0,c.useState)((t=e.appsToCheck,a=new Map,t.forEach((function(e){return a.set(e.appId,e)})),a)),_=(0,o.default)(S,1)[0],A=(0,c.useState)([]),M=(0,o.default)(A,2),j=M[0],D=M[1],T=(0,c.useState)([]),L=(0,o.default)(T,2),x=L[0],I=L[1],R=(0,c.useState)(0),G=(0,o.default)(R,2),W=G[0],B=G[1];(0,c.useEffect)((function(){O(e,_,W,B,j,D,x,I,N)}),[W]);var z,F,H=e.appsToCheck.length,U=j.length,Y=x.length,V=U+Y,J=H-V,X="Error"===e.policy.severity;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"modal-form"},c.default.createElement("div",null,0===H&&c.default.createElement(g.default,{severity:"info",icon:!1},(z=e.policy,F="Org"===z.ownerType?"organization":"Team"===z.ownerType?"team":"account","Your ".concat(F," does not have any apps"))),J>0&&c.default.createElement(g.default,{severity:"info",icon:!1,classes:{message:l.policyCheckProgressAlert}},c.default.createElement("div",null,"Checked ",V," of ",H," apps"),c.default.createElement(i.LinearProgress,{variant:"determinate",value:100*V/H})),0===Y&&0===J&&U>0&&c.default.createElement(g.default,{severity:"success",icon:!1},"All apps passed the policy check"),Y>0&&0===J&&c.default.createElement(g.default,{severity:X?"error":"warning",icon:!1},c.default.createElement("p",{className:l.pNoMargin},Y," of ",H," App",H>1?"s":""," failed the policy check"),w&&c.default.createElement("p",{className:"exposesImageOrFileDataWarning"},"Some of these apps are configured to serve files or images and may not be completely shut down. For more information please"," ",c.default.createElement("a",{href:"https://support.google.com/appsheet/gethelp",className:l.contactSupportLink},"contact support")))),Y>0&&c.default.createElement("div",{className:l.appsListHeaderDiv,onClick:function(){return s(!u)}},c.default.createElement(v.PolicyResultIcon,{result:X?"Fail":"Warn",iconClasses:"".concat(l.appsListHeaderLineItem," ").concat(l.appsListHeaderIcon)}),c.default.createElement("h3",{className:l.appsListHeaderLineItem},X?"Fail":"Warn"," (",Y,")"),u?c.default.createElement(E.default,{className:"".concat(l.appsListHeaderLineItem," ").concat(l.appsListHeaderCarrot)}):c.default.createElement(y.default,{className:"".concat(l.appsListHeaderLineItem," ").concat(l.appsListHeaderCarrot)})),c.default.createElement(m.default,{in:u,className:l.collapseSection},P(l,_,x,e.policy.severity)),U>0&&c.default.createElement("div",{className:l.appsListHeaderDiv,onClick:function(){return h(!f)}},c.default.createElement(v.PolicyResultIcon,{result:"Pass",iconClasses:"".concat(l.appsListHeaderLineItem," ").concat(l.appsListHeaderIcon)}),c.default.createElement("h3",{className:l.appsListHeaderLineItem},"Pass (",U,")"),f?c.default.createElement(E.default,{className:"".concat(l.appsListHeaderLineItem," ").concat(l.appsListHeaderCarrot)}):c.default.createElement(y.default,{className:"".concat(l.appsListHeaderLineItem," ").concat(l.appsListHeaderCarrot)})),c.default.createElement(m.default,{in:f,className:l.collapseSection},P(l,_,j,e.policy.severity))))}},561723:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.AdminRoot=function(e){var t=e.teamRollouts;return n.default.createElement(r.BrowserRouter,null,n.default.createElement(r.Switch,null,n.default.createElement(r.Route,{path:u},n.default.createElement(o.PoliciesDashboard,{teamRollouts:t})),n.default.createElement(r.Route,{path:i},n.default.createElement(o.PoliciesDashboard,{teamRollouts:t})),n.default.createElement(r.Route,{path:c},n.default.createElement(r.Redirect,{to:s("account")}))))},t.POLICIES_TEAM_ROUTE=t.POLICIES_ROUTE=t.POLICIES_DEFAULT_ROUTE=void 0,t.getPoliciesDashboardRoute=s;var n=l(a(667294)),r=a(558801),o=a(40586),c="/admin/policies";t.POLICIES_DEFAULT_ROUTE=c;var i="".concat(c,"/:scope");t.POLICIES_ROUTE=i;var u="".concat(c,"/:scope/:id");function s(e,t){return t?"/admin/policies/".concat(e,"/").concat(t):"/admin/policies/".concat(e)}t.POLICIES_TEAM_ROUTE=u},463182:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.AddEditPolicyModal=function(e){var t=e.scope,a=e.show,l=e.policy,n=e.defaultPolicies,p=e.onClose,f=e.onSave,m=e.onDelete,E=e.onError,y=e.canEdit,v=e.teamRollouts,g=(0,o.useState)(null),h=(0,r.default)(g,2),b=h[0],P=h[1],C=(0,o.useCallback)((function(){P(null),p()}),[p]),O=(0,o.useCallback)((function(e){return(0,s.ajaxPost)("/Account/AddOrUpdatePolicy",e).then(f).then(C).catch(E)}),[f,C,E]),k=(0,o.useCallback)((function(e){return(0,s.ajaxDelete)("/Account/DeletePolicy?policyId=".concat(e.id)).then(m).then(C).catch(E)}),[m,C,E]),w=(0,o.useCallback)((function(e){v.policyPreviewRollout?P(o.default.createElement(i.default,{onClose:C,useMaterialCloseIcon:!0,title:"Define an App Policy",className:"add-edit-policy-modal",contentClassName:"preview-modal-content",bodyClassName:"preview-modal-body"},o.default.createElement(d.PolicyEditor,{policy:e,canEdit:y,onSave:function(e){return O(e)},onDelete:function(e){return k(e)},onCancel:function(){P(null)}}))):P(o.default.createElement(i.default,{onClose:C,title:"Define an App Policy",className:"add-edit-policy-modal"},o.default.createElement(u.AddEditPolicy,{Policy:e,canEdit:y,onSave:O,onDelete:k,onCancel:C})))}),[C,y,O,k,v.policyPreviewRollout]),N=(0,o.useCallback)((function(){P(o.default.createElement(i.default,{onClose:C,title:"Define an App Policy",useMaterialCloseIcon:!0},o.default.createElement(c.ChoosePolicyTemplate,{onNext:function(e){e.ownerType=function(e){switch(e){case"account":return"User";case"team":return"Team";case"org":return"Org"}throw new Error("policy scope ".concat(e," not recognized!"))}(t),w(e)},DefaultPolicies:n,teamRollouts:v})))}),[C,n,t,w,v]);return(0,o.useEffect)((function(){a&&(null!=l?w(l):N())}),[a,N,l,w]),o.default.createElement(o.default.Fragment,null,b)};var r=l(a(627424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),c=a(248131),i=l(a(769938)),u=a(202419),s=a(635672),d=a(448249);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}},591915:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.DeletePolicyModal=function(e){var t=e.show,a=e.policy,l=e.onCancel,i=e.onDelete,u=c();if(null==a)return n.default.createElement(n.default.Fragment,null);return n.default.createElement(r.Dialog,{open:t},n.default.createElement(r.DialogTitle,null,"Delete Policy"),n.default.createElement(r.DialogContent,null,n.default.createElement("div",null,"Are you sure you want to delete this policy?"),n.default.createElement("div",{className:u.policyName},a.name),n.default.createElement("div",{className:u.policyDetail},a.description)),n.default.createElement(r.DialogActions,null,n.default.createElement(r.Button,{color:"primary",variant:"outlined",onClick:l},"Cancel"),n.default.createElement(o.ProgressButton,{renderMaterial:!0,color:"error",onClick:i},"Delete Policy")))};var n=l(a(667294)),r=a(697211),o=a(558852),c=(0,a(229752).makeStyles)((function(){return(0,r.createStyles)({policyName:{fontWeight:"bold",margin:"16px 0 4px 0"},policyDetail:{color:"#616161"}})}))},40586:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.PoliciesDashboard=function(e){var t=(0,d.useParams)(),a=t.scope,l=t.id,n=Number(l),E=(0,o.useReducer)(v,y),P=(0,r.default)(E,2),C=P[0],O=P[1],k=(0,d.useHistory)(),w=C.policies,N=C.loading,S=C.showError,_=C.errorMessage;return(0,o.useEffect)((function(){null==w||"team"!==a||g(n,w)||k.push((0,m.getPoliciesDashboardRoute)("account"))}),[w,a,n,k]),(0,o.useEffect)((function(){null==w&&(0,s.ajaxGet)("/account/apppolicies").then((function(e){O({type:"loadPolicies",policies:e})})).catch((function(e){var t,a;O({type:"showError",errorMessage:null!==(a=null===(t=e.responseJSON)||void 0===t?void 0:t.errorMessage)&&void 0!==a?a:"An unexpected error occured"})}))}),[w]),o.default.createElement("div",{className:"dashboard-page"},o.default.createElement("div",{className:"policy-header"},o.default.createElement("div",null,o.default.createElement("h2",{className:"page-title"},"Policies"),o.default.createElement("p",null,"Use policies for app design consistency and compliance. ",o.default.createElement("a",{className:"learn-more",href:"https://support.google.com/appsheet?p=governance-policies"},"Learn more")))),w&&o.default.createElement("div",{className:"dashboard-container"},o.default.createElement(p.PolicyTreePane,{scope:a,policies:w}),o.default.createElement(f.PolicyDetailPane,{scope:a,title:b(a,n,w),dispatch:O,policies:h(a,n,w),hasTeamAdminPermission:w.hasTeamAdminPermission,hasOrgAdminPermission:w.hasOrgAdminPermission,defaultPolicies:w.defaultPolicies,teamRollouts:e.teamRollouts})),N&&o.default.createElement(c.LoadingSpinner,null),o.default.createElement(i.default,{open:S,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:5e3,onClose:function(){return O({type:"hideError"})}},o.default.createElement(u.default,{severity:"error"},_)))};var r=l(a(627424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),c=a(851982),i=l(a(121786)),u=l(a(64858)),s=a(635672),d=a(558801),p=a(841117),f=a(234390),m=a(561723);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var y={policies:null,loading:!0,showError:!1,errorMessage:"An error occured"};function v(e,t){switch(t.type){case"loadPolicies":return Object.assign(Object.assign({},e),{policies:t.policies,loading:!1});case"clearPolicies":return Object.assign(Object.assign({},e),{policies:null,loading:!0});case"showError":return Object.assign(Object.assign({},e),{showError:!0,errorMessage:t.errorMessage,loading:!1});case"hideError":return Object.assign(Object.assign({},e),{showError:!1});default:return e}}function g(e,t){return e===t.teamId?t:t.orgTeamPolicies.find((function(t){return t.teamId===e}))}function h(e,t,a){var l;switch(e){case"account":return a.userPolicies;case"team":var n=g(t,a);return null!==(l=null==n?void 0:n.teamPolicies)&&void 0!==l?l:[];case"org":return a.orgPolicies;default:throw new Error("Policy scope ".concat(e," not recognized"))}}function b(e,t,a){var l;switch(e){case"account":return"Account";case"team":var n=g(t,a);return null!==(l=null==n?void 0:n.teamName)&&void 0!==l?l:"";case"org":return a.orgName;default:throw new Error("Policy scope ".concat(e," not recognized"))}}},234390:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyDetailPane=function(e){var t=e.scope,a=e.title,l=e.dispatch,n=e.policies,v=e.defaultPolicies,h=e.hasTeamAdminPermission,b=e.hasOrgAdminPermission,P=(0,o.useState)(!1),C=(0,r.default)(P,2),O=C[0],k=C[1],w=(0,o.useState)(!1),N=(0,r.default)(w,2),S=N[0],_=N[1],A=(0,o.useState)(null),M=(0,r.default)(A,2),j=M[0],D=M[1],T=g(t,h,b),L=(0,o.useCallback)((function(e){return(0,m.ajaxDelete)("/Account/DeletePolicy?policyId=".concat(e.id)).then((function(){return l({type:"clearPolicies"})})).catch((function(e){var t,a;return l({type:"showError",errorMessage:null!==(a=null===(t=e.responseJSON)||void 0===t?void 0:t.errorMessage)&&void 0!==a?a:"An unexpected error occured"})}))}),[l]),x=0===n.length?o.default.createElement("div",{className:"detail-empty"},"No policies"):o.default.createElement(c.TableContainer,null,o.default.createElement(c.Table,{"aria-label":"policies table"},o.default.createElement(c.TableHead,null,o.default.createElement(c.TableRow,null,o.default.createElement(c.TableCell,null,"Name"),o.default.createElement(c.TableCell,null,"Last modified"),o.default.createElement(c.TableCell,null))),o.default.createElement(c.TableBody,null,n.map((function(e){return o.default.createElement(c.TableRow,{key:e.id,className:"policy-row",onClick:function(){D(e),k(!0)}},o.default.createElement(c.TableCell,null,o.default.createElement("div",null,e.name),o.default.createElement("div",{className:"policy-detail"},e.description)),o.default.createElement(c.TableCell,null,e.lastUpdated),o.default.createElement(c.TableCell,{className:"policy-overflow"},T&&o.default.createElement(E.IconMenu,{icon:p.default},o.default.createElement(c.MenuItem,{disabled:!T,onClick:function(t){t.stopPropagation(),D(e),k(!0)}},o.default.createElement(c.ListItemIcon,null,o.default.createElement(d.default,null)),o.default.createElement(c.ListItemText,null,"Edit")),o.default.createElement(c.MenuItem,{disabled:!T,onClick:function(t){t.stopPropagation(),D(e),_(!0)}},o.default.createElement(c.ListItemIcon,null,o.default.createElement(s.default,null)),o.default.createElement(c.ListItemText,null,"Delete")))))})))));return o.default.createElement("div",{className:"pane-container detail-pane"},o.default.createElement("div",{className:"pane-header detail-header"},o.default.createElement("div",{className:"pane-header-title"},o.default.createElement("span",null,a)),o.default.createElement(c.Tooltip,{title:T?"":"You do not have permission to add a policy"},o.default.createElement("div",null,o.default.createElement(c.Button,{color:"primary",disabled:!T,onClick:function(){D(null),k(!0)}},o.default.createElement(u.default,null),o.default.createElement("span",null,"".concat((0,i.getPolicyScopeLabel)(t)," policy")))))),o.default.createElement("div",{className:"pane-body"},x),o.default.createElement(f.AddEditPolicyModal,{show:O,scope:t,policy:j,canEdit:T,defaultPolicies:v,onClose:function(){return k(!1)},onSave:function(){return l({type:"clearPolicies"})},onDelete:function(){return l({type:"clearPolicies"})},onError:function(e){var t,a;return l({type:"showError",errorMessage:null!==(a=null===(t=e.responseJSON)||void 0===t?void 0:t.errorMessage)&&void 0!==a?a:"An unexpected error occured"})},teamRollouts:e.teamRollouts}),o.default.createElement(y.DeletePolicyModal,{show:S,policy:j,onCancel:function(){return _(!1)},onDelete:function(){return L(j).then((function(){return _(!1)}))}}))},t.canEditPolicy=g;var r=l(a(627424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),c=a(697211),i=a(44532),u=l(a(773430)),s=l(a(996733)),d=l(a(309108)),p=l(a(864126)),f=a(463182),m=a(635672),E=a(682286),y=a(591915);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function g(e,t,a){return(!a||"team"!==e)&&(!!a||(!("team"!==e||!t)||"account"===e))}},841117:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyTreePane=function(e){var t=e.scope,a=e.policies,l=a.orgName,u=a.teamId,f=a.hasOrgAdminPermission,m=a.orgTeamPolicies,E=!!l,y=p(),v=f&&"team"===t?"org":t;return n.default.createElement("div",{className:"pane-container tree-pane ".concat(y.policyPane)},n.default.createElement("div",{className:"pane-header"},n.default.createElement("div",{className:"pane-header-title"},"Policies by scope")),n.default.createElement("div",{className:"pane-body"},n.default.createElement(r.TreeView,{defaultCollapseIcon:n.default.createElement(o.default,null),defaultExpandIcon:n.default.createElement(c.default,null),expanded:["org"],selected:v},E&&n.default.createElement(r.TreeItem,{nodeId:"org",label:n.default.createElement("div",{className:"node-label"},n.default.createElement("i",{className:"material"},"public"),n.default.createElement(i.Link,{to:(0,d.getPoliciesDashboardRoute)("org")},(0,s.getPolicyScopeLabel)("org")))},f&&m.map((function(e){return n.default.createElement(r.TreeItem,{key:e.teamId,nodeId:String(e.teamId),label:n.default.createElement("div",{className:"node-label"},n.default.createElement("i",{className:"material"},"team_drive"),n.default.createElement(i.Link,{to:(0,d.getPoliciesDashboardRoute)("team",e.teamId)},e.teamName))})}))),!f&&n.default.createElement(r.TreeItem,{nodeId:"team",label:n.default.createElement("div",{className:"node-label"},n.default.createElement("i",{className:"material"},"team_drive"),n.default.createElement(i.Link,{to:(0,d.getPoliciesDashboardRoute)("team",u)},(0,s.getPolicyScopeLabel)("team")))}),n.default.createElement(r.TreeItem,{nodeId:"account",label:n.default.createElement("div",{className:"node-label"},n.default.createElement("i",{className:"material"},"person"),n.default.createElement(i.Link,{to:(0,d.getPoliciesDashboardRoute)("account")},(0,s.getPolicyScopeLabel)("account")))}))))};var n=l(a(667294)),r=a(400078),o=l(a(289039)),c=l(a(252504)),i=a(558801),u=a(229752),s=a(44532),d=a(561723),p=(0,u.makeStyles)({policyPane:{minWidth:"200px"}})},44532:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyScopeLabel=function(e){switch(e){case"team":return"Team";case"account":return"Account";case"org":return"Organization";default:throw new Error("Unrecognized policy scope ".concat(e))}}},434218:(e,t,a)=>{var l=a(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorButton=function(e){var t=c(),a="";if("contained"===e.variant)a=t.containedError;else a=t.outlinedError;return o.default.createElement(n.Button,Object.assign({className:a},e),e.children)};var n=a(697211),r=a(695386),o=l(a(667294)),c=(0,r.makeStyles)((function(e){return(0,n.createStyles)({outlinedError:{borderColor:e.palette.error.main,color:e.palette.error.main},containedError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}}})}))},682286:(e,t,a)=>{var l=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.IconMenu=function(e){var t=e.children,a=(0,o.useAnchorEl)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.IconButton,{"aria-haspopup":"true","aria-label":"Icon menu button",onClick:function(e){e.stopPropagation(),a.set(e)}},n.default.createElement(e.icon,null)),n.default.createElement(r.Menu,{anchorEl:a.element,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,open:a.isOpen,onClose:function(e,t){e.stopPropagation(),a.clear()}},n.Children.map(t,(function(e){return(0,c.assert)(n.default.isValidElement(e)),(0,n.cloneElement)(e,{onClick:function(t){e.props.onClick(t),a.clear()}})}))))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,a&&a.set(e,n);return n}(a(667294)),r=a(697211),o=a(7207),c=a(766333);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}},769938:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.ModalBody=function(e){var t=e.children;return r.default.createElement("div",{className:"modal-body"},t)},t.ModalFooter=function(e){var t=e.children;return r.default.createElement("div",{className:"modal-footer"},t)},t.default=function(e){var t=e.children,a=e.title,l=e.onClose,n=e.className,i=e.bodyClassName,u=e.contentClassName,s=e.useMaterialCloseIcon;return(0,r.useEffect)((function(){var e=function(e){"Escape"===e.key&&l()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),r.default.createElement("div",{onClick:function(e){return e.stopPropagation()},className:n?"modal ".concat(n):"modal",style:{zIndex:1200,display:"block"}},r.default.createElement("div",{className:"modal-backdrop"}),r.default.createElement("div",{className:"modal-dialog",role:"dialog"},r.default.createElement("div",{className:"modal-content"+(u?" ".concat(u):"")},r.default.createElement("div",{className:"modal-header"},s?r.default.createElement(c.IconButton,{onClick:l,className:"close-modal-icon-button"},r.default.createElement(o.default,null)):r.default.createElement("button",{className:"cancel",onClick:function(e){return l()}},"X"),r.default.createElement("h4",{className:"modal-title"},a)),r.default.createElement("div",{className:"modal-body"+(i?" ".concat(i):"")},t))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294)),o=l(a(480366)),c=a(697211);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}},558852:(e,t,a)=>{var l=a(564836),n=a(918698);Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressButton=function(e){var t=e.buttonClasses,a=void 0===t?"":t,l=e.wrapperClasses,n=void 0===l?"":l,i=e.onClick,s=e.disabled,d=void 0!==s&&s,p=e.variant,f=void 0===p?"contained":p,m=e.color,E=void 0===m?"primary":m,y=e.renderMaterial,v=void 0!==y&&y,g=e.children,h=u(),b=(0,c.useState)(!1),P=(0,r.default)(b,2),C=P[0],O=P[1],k=["default","inherit","primary","secondary"].indexOf(E)>-1?E:void 0,w="";k||("contained"===f&&"error"===E?w=h.containedError:"outlined"===f&&"error"===E&&(w=h.outlinedError));var N=c.default.useRef(!1);c.default.useEffect((function(){return N.current=!0,function(){N.current=!1}}),[]);var S=function(e){O(!0),i(e).finally((function(){N.current&&O(!1)}))};return c.default.createElement("div",{className:"".concat(h.wrapper," ").concat(n)},v?c.default.createElement(o.Button,{variant:f,color:k,className:w,onClick:S,disabled:C||d},g):c.default.createElement("button",{className:a,onClick:S,disabled:C||d},g),C&&c.default.createElement(o.CircularProgress,{color:"primary",size:24,className:h.progress}))};var r=l(a(627424)),o=a(697211),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(l,o,c):l[o]=e[o]}l.default=e,a&&a.set(e,l);return l}(a(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}var u=(0,a(695386).makeStyles)((function(e){return(0,o.createStyles)({wrapper:{position:"relative",display:"inline-block"},progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},outlinedError:{borderColor:e.palette.error.main,color:e.palette.error.main},containedError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark}}})}))},291035:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyTargetName=t.PolicyTarget=void 0;var a;t.PolicyTargetName={0:"All Apps",1:"Deployed Apps",2:"Prototype Apps",3:"External Apps"},t.PolicyTarget=a,function(e){e[e.AllApps=0]="AllApps",e[e.DeployedApps=1]="DeployedApps",e[e.PrototypeApps=2]="PrototypeApps",e[e.ExternalApps=3]="ExternalApps"}(a||(t.PolicyTarget=a={}))}}]);
//# sourceMappingURL=/cloud-sources/prod/20d146373aac96174f70e33436d8dbfbf00ca4146559ae6e4c60a582e1ede867.map/